var Subscriptions = /** @class */ (function () {
    function Subscriptions() {
        /**
         * Maps subscriptionId to the callback to invoke whenever a message
         * with that id is handled.
         */
        this.subscriptionCallbacks = new Map();
    }
    Subscriptions.prototype.handle = function (message) {
        var data = JSON.parse(message.data);
        if (data.params && data.params.subscription) {
            var callback = this.subscriptionCallbacks.get("" + data.params.subscription);
            if (callback) {
                callback(data);
            }
            return undefined;
        }
        return message;
    };
    Subscriptions.prototype.add = function (subscriptionId, callback) {
        this.subscriptionCallbacks.set(subscriptionId, callback);
    };
    Subscriptions.prototype.remove = function (id) {
        this.subscriptionCallbacks.delete(id);
    };
    return Subscriptions;
}());
export { Subscriptions };
//# sourceMappingURL=subscriptions.js.map