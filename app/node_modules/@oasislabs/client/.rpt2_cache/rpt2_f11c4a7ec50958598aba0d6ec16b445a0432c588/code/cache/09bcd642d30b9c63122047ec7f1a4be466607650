{"map":"{\"version\":3,\"file\":\"workspace.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/workspace.ts\"],\"names\":[],\"mappings\":\"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\"}","code":"import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Web3Gateway } from '@oasislabs/web3';\r\nimport Gateway from '@oasislabs/gateway';\r\nimport { deploy, fromWasmSync, setGateway, defaultOasisGateway, } from '@oasislabs/service';\r\nimport Wallet from './wallet';\r\nvar WorkspaceError = /** @class */ (function (_super) {\r\n    __extends(WorkspaceError, _super);\r\n    function WorkspaceError() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return WorkspaceError;\r\n}(Error));\r\nvar _populatedWorkspace = false;\r\nexport default new Proxy({\r\n    gateway: configGateway,\r\n}, {\r\n    get: function (workspaceCache, serviceName) {\r\n        var find = require('find');\r\n        var fs = require('fs');\r\n        var process = require('process');\r\n        // tslint:disable-next-line strict-type-predicates\r\n        if (typeof window !== 'undefined') {\r\n            throw new Error('`oasis.workspace` is not (yet) available in the browser');\r\n        }\r\n        if (!_populatedWorkspace) {\r\n            var projectRoot = process.env.OASIS_WORKSPACE;\r\n            if (projectRoot === undefined) {\r\n                var path = require('path');\r\n                projectRoot = process.cwd();\r\n                while (!fs.existsSync(path.join(projectRoot, '.git'))) {\r\n                    var parentDir = path.dirname(projectRoot);\r\n                    if (parentDir === projectRoot) {\r\n                        projectRoot = undefined;\r\n                    }\r\n                    projectRoot = parentDir;\r\n                }\r\n            }\r\n            if (projectRoot === undefined) {\r\n                throw new Error('Could not find workspace root. Perhaps set the `OASIS_WORKSPACE` env var?');\r\n            }\r\n            find\r\n                .fileSync(/target\\/service\\/.*\\.wasm/, projectRoot)\r\n                .reduce(function (services, wasmPath) {\r\n                var bytecode = fs.readFileSync(wasmPath);\r\n                var idl = fromWasmSync(bytecode);\r\n                services[idl.name] = new ServiceDefinition(bytecode, idl);\r\n                return services;\r\n            }, workspaceCache);\r\n            _populatedWorkspace = true;\r\n        }\r\n        return workspaceCache[serviceName];\r\n    },\r\n});\r\nvar ServiceDefinition = /** @class */ (function () {\r\n    function ServiceDefinition(bytecode, idl) {\r\n        this.bytecode = bytecode;\r\n        this.idl = idl;\r\n    }\r\n    ServiceDefinition.prototype.deploy = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 1, , 3]);\r\n                        defaultOasisGateway();\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        e_1 = _a.sent();\r\n                        return [4 /*yield*/, configGateway()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 3:\r\n                        // Place the bytecode into the DeployOptions.\r\n                        this.injectBytecode(args);\r\n                        // Finally, perform the deploy.\r\n                        return [2 /*return*/, deploy.apply(void 0, args)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Inject the bytecode into the deploy options.\r\n     * Deploy options were either provided or not.\r\n     */\r\n    ServiceDefinition.prototype.injectBytecode = function (args) {\r\n        // Deploy options provided, so inject the bytecode into them.\r\n        if (this.idl.constructor.inputs.length + 1 === args.length) {\r\n            // Replace the args' options with a cloned version.\r\n            var options = (function () {\r\n                var o = args.pop();\r\n                if (typeof o !== 'object') {\r\n                    throw new WorkspaceError('Options argument must be an object');\r\n                }\r\n                if (o.bytecode) {\r\n                    throw new WorkspaceError('Bytecode should not be provided when deploying a workspace service');\r\n                }\r\n                o = JSON.parse(JSON.stringify(o));\r\n                args.push(o);\r\n                return o;\r\n            })();\r\n            // Inject the bytecode into the options.\r\n            options.bytecode = this.bytecode;\r\n        }\r\n        // Deploy options not provided, so create them and then add them\r\n        // to the arguments.\r\n        else if (this.idl.constructor.inputs.length === args.length) {\r\n            var options = {\r\n                bytecode: this.bytecode,\r\n            };\r\n            args.push(options);\r\n        }\r\n    };\r\n    return ServiceDefinition;\r\n}());\r\nexport { ServiceDefinition };\r\nfunction configGateway() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var config;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    // tslint:disable-next-line strict-type-predicates\r\n                    if (typeof window !== 'undefined') {\r\n                        throw new WorkspaceError('Cannot use oasis.workspace in the browser');\r\n                    }\r\n                    return [4 /*yield*/, Config.read()];\r\n                case 1:\r\n                    config = _a.sent();\r\n                    setGateway(config.gateway());\r\n                    return [2 /*return*/, defaultOasisGateway()];\r\n            }\r\n        });\r\n    });\r\n}\r\nvar Config = /** @class */ (function () {\r\n    function Config(inner) {\r\n        this.inner = inner;\r\n    }\r\n    Config.read = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var path, configPath, config, _a, _b, profile, gatewayConfig;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        path = require('path');\r\n                        configPath = process.env.OASIS_CONFIG_FILE ||\r\n                            path.join(process.env.XDG_CONFIG_HOME || path.join(process.env.HOME, '.config'), 'oasis', 'config.toml');\r\n                        _b = (_a = require('toml')).parse;\r\n                        return [4 /*yield*/, require('util').promisify(require('fs').readFile)(configPath)];\r\n                    case 1:\r\n                        config = _b.apply(_a, [_c.sent()]);\r\n                        if (!('profile' in config)) {\r\n                            throw new Error(\"No profile in \" + configPath);\r\n                        }\r\n                        profile = process.env.OASIS_PROFILE || 'default';\r\n                        if (!(profile in config.profile)) {\r\n                            throw new Error(\"No profile named `\" + profile + \"` in \" + configPath);\r\n                        }\r\n                        gatewayConfig = config.profile[profile];\r\n                        return [2 /*return*/, new Config(gatewayConfig)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Config.prototype.gateway = function () {\r\n        var gatewayUrl;\r\n        var gatewayType;\r\n        var credential = new Credential(this.inner.credential);\r\n        if (typeof this.inner.gateway === 'object') {\r\n            gatewayUrl = this.inner.gateway.url;\r\n            gatewayType = getGatewayType(this.inner.gateway.type);\r\n        }\r\n        else {\r\n            gatewayUrl = this.inner.gateway;\r\n        }\r\n        if (!gatewayType) {\r\n            gatewayType = inferGatewayType(gatewayUrl, credential);\r\n        }\r\n        if (gatewayType === GatewayType.Web3) {\r\n            return new Web3Gateway(gatewayUrl, credential.wallet);\r\n        }\r\n        return new Gateway(gatewayUrl, credential.credential, {\r\n            headers: new Map(),\r\n        });\r\n    };\r\n    return Config;\r\n}());\r\nfunction getGatewayType(gateway) {\r\n    if (gateway === 'web3') {\r\n        return GatewayType.Web3;\r\n    }\r\n    else if (gateway === 'oasis') {\r\n        return GatewayType.Oasis;\r\n    }\r\n    throw new Error(\"Invalid gateway type: `\" + gateway + \"`.\" + '' + \" Available options are `web3` and `oasis`\");\r\n}\r\nfunction inferGatewayType(gatewayUrl, credential) {\r\n    var url = require('url').parse(gatewayUrl.toLowerCase());\r\n    var port = parseInt(url.port, 10);\r\n    if (url.hostname.match(/web3/gi) ||\r\n        port in [8545, 8546] ||\r\n        credential.type === CredentialType.Mnemonic ||\r\n        credential.type === CredentialType.PrivateKey) {\r\n        return GatewayType.Web3;\r\n    }\r\n    return GatewayType.Oasis;\r\n}\r\nvar GatewayType;\r\n(function (GatewayType) {\r\n    GatewayType[GatewayType[\"Web3\"] = 0] = \"Web3\";\r\n    GatewayType[GatewayType[\"Oasis\"] = 1] = \"Oasis\";\r\n})(GatewayType || (GatewayType = {}));\r\nvar Credential = /** @class */ (function () {\r\n    function Credential(credential) {\r\n        this.credential = credential;\r\n        var API_TOKEN_NUM_BYTES = 32 + 32 / 8;\r\n        var PRIVATE_KEY_NUM_BYTES = 32;\r\n        var MNEMONIC_NUM_WORDS = 12;\r\n        if (Buffer.from(credential, 'base64').length === API_TOKEN_NUM_BYTES) {\r\n            this.type = CredentialType.ApiToken;\r\n        }\r\n        else if (Buffer.from(credential, 'hex').length === PRIVATE_KEY_NUM_BYTES) {\r\n            this.type = CredentialType.PrivateKey;\r\n            this.wallet = new Wallet(credential);\r\n        }\r\n        else if (credential.split(' ').length === MNEMONIC_NUM_WORDS) {\r\n            this.type = CredentialType.Mnemonic;\r\n            this.wallet = Wallet.fromMnemonic(credential);\r\n        }\r\n        else {\r\n            throw new Error(\"Invalid credential: `\" + credential + \"`.\");\r\n        }\r\n    }\r\n    return Credential;\r\n}());\r\nvar CredentialType;\r\n(function (CredentialType) {\r\n    CredentialType[CredentialType[\"PrivateKey\"] = 0] = \"PrivateKey\";\r\n    CredentialType[CredentialType[\"Mnemonic\"] = 1] = \"Mnemonic\";\r\n    CredentialType[CredentialType[\"ApiToken\"] = 2] = \"ApiToken\";\r\n})(CredentialType || (CredentialType = {}));\r\n//# sourceMappingURL=workspace.js.map"}
